<!-- <script type="module">
    import WorkerMessage from "../index.js";

    const worker = new Worker("./worker.js");//,{type:'module'}

    const message = new WorkerMessage(worker);
    message.onRequestMessage = function (message, resolve, reject) {
        resolve(message + "; main response")
    }

    message.requestMessage("to worker").then((e) => {
        console.log(e)
    }).catch((e) => {
        console.error(e)
    })
</script> -->

<!-- <iframe src="http://localhost:8000/demo/inner.html" id="innerIframe"></iframe>
<script type="module">
    import WorkerMessage from "../index.js";

    const message = new WorkerMessage(window, "inner.loaded");
    message.onMessage = (e) => {
        console.log(e)
    }
    message.postMessage("index")
    message.onRequestMessage = function (message, resolve, reject) {
        resolve(message + "; parent response")
    }

    message.requestMessage("to iframe").then((e) => {
        console.log(e)
    }).catch((e) => {
        console.error(e)
    })
</script> -->

<!-- <a href="javascript:window.open('http://localhost:8001/demo/newtab.html','new.tab')" target="blank">new_tab window.open</a>
<br/> -->
<a href="http://tab.dengrc.top/demo/newtab.html" target="blank">new_tab</a>
<script type="module">
    import WorkerMessage from "../index.js";
    const message = new WorkerMessage(window, "new.tab")
    message.onMessage = (e) => {
        console.log(e)
    }
    message.postMessage("opener")
    message.onRequestMessage = function (message, resolve, reject) {
        resolve(message + "; opener response")
    }

    message.requestMessage("to new.tab").then((e) => {
        console.log(e)
    }).catch((e) => {
        console.error(e)
    })
    //elForm.submit()
    //window.open("http://localhost:8001/demo/newtab.html","new.tab")//,`modal=yes,top=0,left=0,toolbar=no,status=no,menubar=no,location=no,width=${screen.availWidth},height=${screen.availHeight}`)
</script>